<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>online shop</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
    <style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }

    #app {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    .product {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        margin-bottom: 10px;
        background-color: #f9f9f9;
    }

    .product h2 {
        margin-top: 0;
    }

    .product button {
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 3px;
        padding: 5px 10px;
        cursor: pointer;
    }

    .product button:hover {
        background-color: #0056b3;
    }

    .product-details {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 20px;
        background-color: #f9f9f9;
    }

    .product-details h1 {
        margin-top: 0;
    }

    .product-details button {
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 3px;
        padding: 5px 10px;
        cursor: pointer;
    }

    .product-details button:hover {
        background-color: #0056b3;
    }

    .shopping-cart {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 20px;
        background-color: #f9f9f9;
    }

    .shopping-cart h2 {
        margin-top: 0;
    }
</style>
</head>
<body>
    <div id="app">
        <product-list :products="products" @select-product="selectProduct"></product-list>
        <product-details v-if="selectedProduct" :product="selectedProduct" @add-to-cart="addToCart" @back-to-products="backToProducts"></product-details>
        <shopping-cart :cart="cart"></shopping-cart>

    </div>
    <script>
        const {createApp,ref}=Vue
    const app= createApp({
            setup(){
            const products=ref([
        { id:1, name:'shoes',description:'j4s',price:3000},
        { id:2, name:'shirts',description:'material',price:500},
        { id:3, name:'trousers',description:'jeans',price:1500}
                ])
                const selectedProduct=ref(null);
                const cart=ref([]);
                const selectProduct=(product)=>{
                    selectedProduct.value=product;
                };
                const addToCart=(product)=>{
                    cart.value.push(product);
                };
                const backToProduct=()=>{
                    selectedProduct.value=null;
                };
                return{
                    products,selectedProduct,cart,selectProduct,addToCart,backToProduct
                }
          },
        
        })
        app.component('product-list',{
            props:['products'],
            template:`
            <div>
                <h1>Products</h1>
            <div v-for="product in products" :key="product.id" class="product">
                <h2>{{ product.name }}</h2>
                <p>Price: {{ product.price }}</p>
                <button @click="$emit('select-product', product)">View Details</button>
            </div>
                </div>
            `
        });
        
app.component('product-details', {
    props: ['product'],
    template: `
        <div class="product-details">
            <h1>{{ product.name }}</h1>
            <p>Price: {{ product.price }}</p>
            <p>Description: {{ product.description }}</p>
            <button @click="$emit('add-to-cart', product)">Add to Cart</button>
            <button @click="$emit('back-to-products')">Back to Products</button>
        </div>
    `
});
app.component('shopping-cart', {
    props: ['cart'],
    setup(props) {
                // No need for reactive data or methods in this component
                return {};
            },
    template: `
        <div class="shopping-cart">
            <h2>Shopping Cart</h2>
            <ul>
                <li v-for="item in cart" :key="item.id">
                    {{ item.name }} - {{ item.price }}
                </li>
            </ul>
        </div>
    `
});
        app.mount('#app')
    </script>
</body>
</html>